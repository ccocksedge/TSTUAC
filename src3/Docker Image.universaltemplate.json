{
    "agent": null,
    "agentCluster": null,
    "agentClusterVar": null,
    "agentFieldsRestriction": "No Restriction",
    "agentType": "Any",
    "agentVar": null,
    "alwaysCancelOnFinish": false,
    "autoCleanup": false,
    "automaticOutputRetrievalFieldsRestriction": "No Restriction",
    "broadcastCluster": null,
    "broadcastClusterVar": null,
    "commands": [],
    "createConsole": false,
    "credentialFieldsRestriction": "No Restriction",
    "credentials": null,
    "credentialsVar": null,
    "description": "Universal Task to Manage Docker Images (Build Context = Runtime Directory)",
    "desktopInteract": false,
    "elevateUser": false,
    "environment": [],
    "environmentVariablesFieldsRestriction": "No Restriction",
    "events": [],
    "exitCodeOutput": null,
    "exitCodeProcessing": "Success Exitcode Range",
    "exitCodeProcessingFieldsRestriction": "No Restriction",
    "exitCodeText": null,
    "exitCodes": "0",
    "exportReleaseLevel": "7.3.0.0",
    "extension": null,
    "fields": [
        {
            "arrayFieldValue": [],
            "arrayNameTitle": null,
            "arrayValueTitle": null,
            "booleanNoValue": null,
            "booleanValueType": "true/false",
            "booleanYesValue": null,
            "choiceAllowEmpty": false,
            "choiceAllowMultiple": false,
            "choiceDynamic": false,
            "choiceFields": [],
            "choiceSortOption": "Sequence",
            "choices": [
                {
                    "fieldValue": "Build",
                    "sequence": 1,
                    "sysId": "72f039c03de644e199dea2f89af3b376",
                    "useFieldValueForLabel": true
                },
                {
                    "fieldValue": "Remove",
                    "sequence": 4,
                    "sysId": "a5dee9dde9434bcbb6b328510446b6ce",
                    "useFieldValueForLabel": true
                },
                {
                    "fieldValue": "Pull",
                    "sequence": 5,
                    "sysId": "df11e7c119a14fd1bacab3b332180b52",
                    "useFieldValueForLabel": true
                },
                {
                    "fieldValue": "Push",
                    "sequence": 6,
                    "sysId": "b5b8d01c9d2d41afbef88d0b849b764b",
                    "useFieldValueForLabel": true
                },
                {
                    "fieldValue": "Tag",
                    "sequence": 7,
                    "sysId": "faa4b135ecd94602b3e2c1d89d8cd21c",
                    "useFieldValueForLabel": true
                }
            ],
            "defaultListView": false,
            "extensionStatus": false,
            "fieldLength": null,
            "fieldMapping": "Choice Field 1",
            "fieldRestriction": "No Restriction",
            "fieldType": "Choice",
            "fieldValue": null,
            "formColumnSpan": 1,
            "formEndRow": true,
            "formStartRow": true,
            "hint": "Select the Required Docker Function",
            "intFieldMax": null,
            "intFieldMin": null,
            "label": "Docker Function",
            "name": "function",
            "noSpaceIfHidden": false,
            "preserveOutputOnRerun": false,
            "preserveValueIfHidden": false,
            "requireIfField": null,
            "requireIfFieldValue": null,
            "requireIfVisible": false,
            "required": false,
            "sequence": 0,
            "showIfField": null,
            "showIfFieldValue": null,
            "sysId": "f59246a03b44428295353fc1a1803478",
            "textType": "Plain"
        },
        {
            "arrayFieldValue": [],
            "arrayNameTitle": null,
            "arrayValueTitle": null,
            "booleanNoValue": null,
            "booleanValueType": "true/false",
            "booleanYesValue": null,
            "choiceAllowEmpty": false,
            "choiceAllowMultiple": false,
            "choiceDynamic": false,
            "choiceFields": [],
            "choiceSortOption": "Sequence",
            "choices": [],
            "defaultListView": false,
            "extensionStatus": false,
            "fieldLength": 255,
            "fieldMapping": "Text Field 1",
            "fieldRestriction": "No Restriction",
            "fieldType": "Text",
            "fieldValue": null,
            "formColumnSpan": 1,
            "formEndRow": false,
            "formStartRow": true,
            "hint": "Docker Image Name",
            "intFieldMax": null,
            "intFieldMin": null,
            "label": "Image Name",
            "name": "image",
            "noSpaceIfHidden": true,
            "preserveOutputOnRerun": false,
            "preserveValueIfHidden": false,
            "requireIfField": null,
            "requireIfFieldValue": null,
            "requireIfVisible": true,
            "required": false,
            "sequence": 1,
            "showIfField": "Choice Field 1",
            "showIfFieldValue": "Build,Remove,Pull,Push,Tag",
            "sysId": "c15fd2601c19465581f7a2974a634dae",
            "textType": "Plain"
        },
        {
            "arrayFieldValue": [],
            "arrayNameTitle": null,
            "arrayValueTitle": null,
            "booleanNoValue": null,
            "booleanValueType": "true/false",
            "booleanYesValue": null,
            "choiceAllowEmpty": false,
            "choiceAllowMultiple": false,
            "choiceDynamic": false,
            "choiceFields": [],
            "choiceSortOption": "Sequence",
            "choices": [],
            "defaultListView": false,
            "extensionStatus": false,
            "fieldLength": null,
            "fieldMapping": "Script Field 1",
            "fieldRestriction": "No Restriction",
            "fieldType": "Script",
            "fieldValue": null,
            "formColumnSpan": 1,
            "formEndRow": true,
            "formStartRow": false,
            "hint": "Select the required dockerfile from the UC script library",
            "intFieldMax": null,
            "intFieldMin": null,
            "label": "Dockerfile",
            "name": "dockerfile",
            "noSpaceIfHidden": true,
            "preserveOutputOnRerun": false,
            "preserveValueIfHidden": false,
            "requireIfField": null,
            "requireIfFieldValue": null,
            "requireIfVisible": true,
            "required": false,
            "sequence": 3,
            "showIfField": "Choice Field 1",
            "showIfFieldValue": "Build",
            "sysId": "a20ef38373604450be29d452ca27751b",
            "textType": "Plain"
        },
        {
            "arrayFieldValue": [],
            "arrayNameTitle": "Build Argument",
            "arrayValueTitle": "Build Argument Value",
            "booleanNoValue": null,
            "booleanValueType": "true/false",
            "booleanYesValue": null,
            "choiceAllowEmpty": false,
            "choiceAllowMultiple": false,
            "choiceDynamic": false,
            "choiceFields": [],
            "choiceSortOption": "Sequence",
            "choices": [],
            "defaultListView": false,
            "extensionStatus": false,
            "fieldLength": null,
            "fieldMapping": "Array Field 1",
            "fieldRestriction": "No Restriction",
            "fieldType": "Array",
            "fieldValue": null,
            "formColumnSpan": 3,
            "formEndRow": true,
            "formStartRow": true,
            "hint": "Docker Image Build Arguments",
            "intFieldMax": null,
            "intFieldMin": null,
            "label": "Image Build Arguments",
            "name": "buildargs",
            "noSpaceIfHidden": true,
            "preserveOutputOnRerun": false,
            "preserveValueIfHidden": false,
            "requireIfField": null,
            "requireIfFieldValue": null,
            "requireIfVisible": false,
            "required": false,
            "sequence": 4,
            "showIfField": "Choice Field 1",
            "showIfFieldValue": "Build",
            "sysId": "28379334efcf4599b720409a6c865e06",
            "textType": "Plain"
        },
        {
            "arrayFieldValue": [],
            "arrayNameTitle": null,
            "arrayValueTitle": null,
            "booleanNoValue": "False",
            "booleanValueType": "Custom",
            "booleanYesValue": "True",
            "choiceAllowEmpty": false,
            "choiceAllowMultiple": false,
            "choiceDynamic": false,
            "choiceFields": [],
            "choiceSortOption": "Sequence",
            "choices": [],
            "defaultListView": false,
            "extensionStatus": false,
            "fieldLength": null,
            "fieldMapping": "Boolean Field 2",
            "fieldRestriction": "No Restriction",
            "fieldType": "Boolean",
            "fieldValue": "false",
            "formColumnSpan": 1,
            "formEndRow": false,
            "formStartRow": true,
            "hint": "Always remove intermediate containers, even after unsuccessful builds",
            "intFieldMax": null,
            "intFieldMin": null,
            "label": "Remove",
            "name": "remove",
            "noSpaceIfHidden": true,
            "preserveOutputOnRerun": false,
            "preserveValueIfHidden": false,
            "requireIfField": null,
            "requireIfFieldValue": null,
            "requireIfVisible": false,
            "required": false,
            "sequence": 5,
            "showIfField": "Choice Field 1",
            "showIfFieldValue": "Build",
            "sysId": "36db31dfc2064a22bd78d77d0f4071de",
            "textType": "Plain"
        },
        {
            "arrayFieldValue": [],
            "arrayNameTitle": null,
            "arrayValueTitle": null,
            "booleanNoValue": "False",
            "booleanValueType": "Custom",
            "booleanYesValue": "True",
            "choiceAllowEmpty": false,
            "choiceAllowMultiple": false,
            "choiceDynamic": false,
            "choiceFields": [],
            "choiceSortOption": "Sequence",
            "choices": [],
            "defaultListView": false,
            "extensionStatus": false,
            "fieldLength": null,
            "fieldMapping": "Boolean Field 1",
            "fieldRestriction": "No Restriction",
            "fieldType": "Boolean",
            "fieldValue": "false",
            "formColumnSpan": 1,
            "formEndRow": true,
            "formStartRow": false,
            "hint": "Always attempt to pull a newer version of the base image",
            "intFieldMax": null,
            "intFieldMin": null,
            "label": "Pull",
            "name": "pull",
            "noSpaceIfHidden": true,
            "preserveOutputOnRerun": false,
            "preserveValueIfHidden": false,
            "requireIfField": null,
            "requireIfFieldValue": null,
            "requireIfVisible": false,
            "required": false,
            "sequence": 6,
            "showIfField": "Choice Field 1",
            "showIfFieldValue": "Build",
            "sysId": "78a26eba87ec437e8ef27b98898cdb57",
            "textType": "Plain"
        },
        {
            "arrayFieldValue": [],
            "arrayNameTitle": null,
            "arrayValueTitle": null,
            "booleanNoValue": "False",
            "booleanValueType": "Custom",
            "booleanYesValue": "True",
            "choiceAllowEmpty": false,
            "choiceAllowMultiple": false,
            "choiceDynamic": false,
            "choiceFields": [],
            "choiceSortOption": "Sequence",
            "choices": [],
            "defaultListView": false,
            "extensionStatus": false,
            "fieldLength": null,
            "fieldMapping": "Boolean Field 3",
            "fieldRestriction": "No Restriction",
            "fieldType": "Boolean",
            "fieldValue": "false",
            "formColumnSpan": 1,
            "formEndRow": true,
            "formStartRow": false,
            "hint": "Force the removal of a running container or image",
            "intFieldMax": null,
            "intFieldMin": null,
            "label": "Force",
            "name": "force",
            "noSpaceIfHidden": true,
            "preserveOutputOnRerun": false,
            "preserveValueIfHidden": false,
            "requireIfField": null,
            "requireIfFieldValue": null,
            "requireIfVisible": false,
            "required": false,
            "sequence": 13,
            "showIfField": "Choice Field 1",
            "showIfFieldValue": "Remove",
            "sysId": "c412697809c9416b8343b2fdf441a6c9",
            "textType": "Plain"
        },
        {
            "arrayFieldValue": [],
            "arrayNameTitle": null,
            "arrayValueTitle": null,
            "booleanNoValue": null,
            "booleanValueType": "true/false",
            "booleanYesValue": null,
            "choiceAllowEmpty": false,
            "choiceAllowMultiple": false,
            "choiceDynamic": false,
            "choiceFields": [],
            "choiceSortOption": "Sequence",
            "choices": [],
            "defaultListView": false,
            "extensionStatus": false,
            "fieldLength": null,
            "fieldMapping": "Text Field 2",
            "fieldRestriction": "No Restriction",
            "fieldType": "Text",
            "fieldValue": null,
            "formColumnSpan": 1,
            "formEndRow": true,
            "formStartRow": false,
            "hint": "Target Image that refers to source image",
            "intFieldMax": null,
            "intFieldMin": null,
            "label": "Target Image Tag",
            "name": "tag",
            "noSpaceIfHidden": true,
            "preserveOutputOnRerun": false,
            "preserveValueIfHidden": false,
            "requireIfField": null,
            "requireIfFieldValue": null,
            "requireIfVisible": true,
            "required": false,
            "sequence": 14,
            "showIfField": "Choice Field 1",
            "showIfFieldValue": "Tag",
            "sysId": "cd56b48f57324d659a64d6b0d2becc2b",
            "textType": "Plain"
        },
        {
            "arrayFieldValue": [],
            "arrayNameTitle": null,
            "arrayValueTitle": null,
            "booleanNoValue": null,
            "booleanValueType": "true/false",
            "booleanYesValue": null,
            "choiceAllowEmpty": false,
            "choiceAllowMultiple": false,
            "choiceDynamic": false,
            "choiceFields": [],
            "choiceSortOption": "Sequence",
            "choices": [],
            "defaultListView": false,
            "extensionStatus": false,
            "fieldLength": null,
            "fieldMapping": "Credential Field 1",
            "fieldRestriction": "No Restriction",
            "fieldType": "Credential",
            "fieldValue": null,
            "formColumnSpan": 1,
            "formEndRow": false,
            "formStartRow": false,
            "hint": "Docker Repository Credential",
            "intFieldMax": null,
            "intFieldMin": null,
            "label": "Repository Credential",
            "name": "dockerid",
            "noSpaceIfHidden": true,
            "preserveOutputOnRerun": false,
            "preserveValueIfHidden": false,
            "requireIfField": null,
            "requireIfFieldValue": null,
            "requireIfVisible": true,
            "required": false,
            "sequence": 15,
            "showIfField": "Choice Field 1",
            "showIfFieldValue": "Push",
            "sysId": "e13b7ddfb19d491796fe06c0bf82c4da",
            "textType": "Plain"
        },
        {
            "arrayFieldValue": [],
            "arrayNameTitle": null,
            "arrayValueTitle": null,
            "booleanNoValue": null,
            "booleanValueType": "true/false",
            "booleanYesValue": null,
            "choiceAllowEmpty": false,
            "choiceAllowMultiple": false,
            "choiceDynamic": false,
            "choiceFields": [],
            "choiceSortOption": "Sequence",
            "choices": [
                {
                    "fieldValue": "None",
                    "sequence": 0,
                    "sysId": "a31082e5f22645248dde661ded6219ba",
                    "useFieldValueForLabel": true
                },
                {
                    "fieldValue": "Info",
                    "sequence": 1,
                    "sysId": "6c7d55ff96e5429e8e211dc7860c5d73",
                    "useFieldValueForLabel": true
                },
                {
                    "fieldValue": "Debug",
                    "sequence": 2,
                    "sysId": "6f9525a7187147b8b092c8125b41d410",
                    "useFieldValueForLabel": true
                },
                {
                    "fieldValue": "Warning",
                    "sequence": 3,
                    "sysId": "ba1afbc2e5734cb8b83ca7b089ce701c",
                    "useFieldValueForLabel": true
                },
                {
                    "fieldValue": "Critical",
                    "sequence": 4,
                    "sysId": "3dab63b927734450981680361cec78d1",
                    "useFieldValueForLabel": true
                }
            ],
            "defaultListView": false,
            "extensionStatus": false,
            "fieldLength": null,
            "fieldMapping": "Choice Field 2",
            "fieldRestriction": "No Restriction",
            "fieldType": "Choice",
            "fieldValue": "None",
            "formColumnSpan": 1,
            "formEndRow": true,
            "formStartRow": true,
            "hint": "Controls messages issued from the Universal Task",
            "intFieldMax": null,
            "intFieldMin": null,
            "label": "Logging Level",
            "name": "loglevel",
            "noSpaceIfHidden": false,
            "preserveOutputOnRerun": false,
            "preserveValueIfHidden": false,
            "requireIfField": null,
            "requireIfFieldValue": null,
            "requireIfVisible": false,
            "required": false,
            "sequence": 16,
            "showIfField": null,
            "showIfFieldValue": null,
            "sysId": "b51b54bf75314737ab3833031118a610",
            "textType": "Plain"
        }
    ],
    "logLevel": "Inherited",
    "name": "Docker Image",
    "outputConditionOperator": "=",
    "outputConditionStrategy": "Match Any",
    "outputConditionValue": null,
    "outputContentType": null,
    "outputFailureOnly": false,
    "outputPathExpression": null,
    "outputReturnFile": null,
    "outputReturnNline": "100",
    "outputReturnSline": "1",
    "outputReturnText": null,
    "outputReturnType": "NONE",
    "outputType": "STDOUT",
    "retainSysIds": true,
    "runtimeDir": null,
    "script": "#!/opt/universal/python3.6/bin/python3\n# --\n#         Origins: Stonebranch\n#          Author: Colin Cocksedge colin.cocksedge@stonebranch.com\n#            Date: 07-Oct-2019\n#\n#    Copyright (c) Stonebranch, 2018.  All rights reserved.\n#\n#         Purpose: Universal Task for Docker Images\n#\nversion = \"1.0\"\n#           Version History:    1.0     CCO     07-Oct-2019      Initial Version\n# --\n\n# -- Main Logic Function\ndef main():\n    ScriptSetup()  # -- Import Required Modules, Setup Logging Format, Set Variables\n    if args.function == \"Build\":\n        BuildImage()  # -- Build The Docker Image\n    if args.function == \"Remove\":\n        RemoveImage()  # -- Remove The Docker Image\n    if args.function == \"Pull\":\n        PullImage()  # -- Pull The Docker Image\n    if args.function == \"Push\":\n        PushImage()  # -- Push The Docker Image\n    if args.function == \"Tag\":\n        TagImage()  # -- Tag The Docker Image\n\n\n# --\n\n# -- Import Required Modules, Setup Logging Format, Set Variables\ndef ScriptSetup():\n    # -- Import required python modules\n    import argparse\n    import logging\n    import sys\n    import ast\n    import os\n    # -- Import docker, if error then install docker\n    try:\n        import docker\n    except:\n        try:\n            from pip import main as pipmain\n        except:\n            from pip._internal import main as pipmain\n        pipmain(\n            [\n                \"install\",\n                \"--trusted-host=pypi.python.org\",\n                \"--trusted-host=pypi.org\",\n                \"--trusted-host=files.pythonhosted.org\",\n                \"docker\",\n            ]\n        )\n        import requests\n\n    global logging\n    global sys\n    global docker\n    global ast\n    global os\n    global argparse\n    # -- Set Variables from Universal Task Form or Command Line Input\n    parser = argparse.ArgumentParser(description=\"Purpose : Manage Docker Images\")\n    # ## --> Capture Universal Task Form Variables Here\n    parser.add_argument(\n        \"--function\",\n        default=\"${ops_docker_function}\",\n        help=\"Select the required docker function\",\n        choices=[\"Build\", \"Remove\", \"Pull\", \"Push\", \"Tag\"],\n    )\n    parser.add_argument(\n        \"--image\", default=\"${ops_docker_image}\", help=\"Docker image name\"\n    )\n    parser.add_argument(\n        \"--dockerfile\",\n        default=r\"${_scriptpath('${ops_docker_dockerfile}')}\",\n        help=\"Path/filename within the build context to the Dockerfile\",\n    )\n    parser.add_argument(\n        \"--buildargs\",\n        default='{${_convertArrayFieldVariable(\"ops_docker_buildargs\",\":\",\",\",\"\\\"\",\"\\\"\")}}',\n        help=\"build arguments (--buildargs '{''var1'':''value1'',''var2'':''value2''}')\"\n    )\n    parser.add_argument(\n        \"--remove\",\n        default=\"${ops_docker_remove}\",\n        type=str2bool,\n        help=\"Always remove intermediate containers, even after unsuccessful builds\",\n    )\n    parser.add_argument(\n        \"--pull\",\n        default=\"${ops_docker_pull}\",\n        type=str2bool,\n        help=\"Downloads any updates to the FROM image in Dockerfiles\",\n    )\n    parser.add_argument(\n        \"--force\",\n        default=\"${ops_docker_force}\",\n        type=str2bool,\n        help=\"Force the removal of a running container or image\",\n    )\n    parser.add_argument(\"--tag\", default=\"${ops_docker_tag}\", help=\"The tag name\")\n    parser.add_argument(\n        \"--username\",\n        default=\"${_credentialUser('${ops_docker_dockerid}')}\",\n        help=\"Username for Docker Repository\",\n    )\n    parser.add_argument(\n        \"--password\",\n        default=\"${_credentialPwd('${ops_docker_dockerid}')}\",\n        help=\"Password for Docker Repository\",\n    )\n    # ## -->\n    parser.add_argument(\n        \"--loglevel\",\n        default=\"${ops_docker_loglevel}\",\n        help=\"Controls messages issued from the Script\",\n        choices=[\"None\", \"Info\", \"Debug\", \"Warning\", \"Critical\"],\n    )\n    global args\n    args = parser.parse_args()\n    # -- Setup Logging\n    numeric_level = getattr(logging, args.loglevel.upper(), None)\n    logging.basicConfig(\n        format=\"%(asctime)-15s - %(levelname)-8s - %(message)s\", level=numeric_level\n    )\n    # -- Print Paramater Values\n    logging.debug(\n        \"Executing version {0} with the following parameters : {1}\".format(\n            version, args\n        )\n    )\n\n\n# --\n\n# ## --> Functions Go Here\n\n# -- Build The Docker Image\ndef BuildImage():\n    logging.info(\"Build Docker Image {0}\".format(args.image))\n    if str(args.buildargs[1][:1]) != \"$\":\n        buildargs = ast.literal_eval(args.buildargs)\n    else:\n        buildargs = {}\n    # Build Context = Runtime Directory\n    currentDirectory = os.getcwd()\n    # Copy DockerFile to Current Working Directory\n    from shutil import copyfile\n\n    DockerFile = os.path.join(currentDirectory, \"Dockerfile\")\n    try:\n        copyfile(args.dockerfile, DockerFile)\n    except:\n        logging.error(\"Copy Dockerfile {0}\".format(sys.exc_info()))\n        sys.exit(1)\n    # Docker Build\n    client = docker.from_env()\n    try:\n        image = client.images.build(\n            tag=args.image,\n            path=currentDirectory,\n            dockerfile=\"Dockerfile\",\n            buildargs=buildargs,\n            pull=args.pull,\n            forcerm=args.remove,\n        )\n    except:\n        logging.error(\"Build Image {0}\".format(sys.exc_info()))\n        sys.exit(1)\n    logging.info(\"{0}\".format(image))\n    print(image)\n\n\n# --\n# -- Remove The Docker Image\ndef RemoveImage():\n    logging.info(\"Removing Docker Image {0}\".format(args.image))\n    # Check if Image Exists\n    if CheckImage(args.image) == False:\n        print(\"Image {0} Not Found. No Action Taken.\".format(args.image))\n        sys.exit(0)\n    # Remove Image\n    client = docker.APIClient()\n    try:\n        image = client.remove_image(args.image, force=args.force)\n    except:\n        logging.error(\"Remove Image {0}\".format(sys.exc_info()))\n        sys.exit(1)\n    logging.info(\"Image {0} Removed\".format(args.image))\n    print(image)\n\n\n# --\n# -- Pull The Docker Image\ndef PullImage():\n    logging.info(\"Pulling Docker Image {0}\".format(args.image))\n    # Pull Image\n    client = docker.from_env()\n    try:\n        image = client.images.pull(args.image)\n    except:\n        logging.error(\"Pull Image {0}\".format(sys.exc_info()))\n        sys.exit(1)\n    logging.info(\"Image {0} Pulled\".format(args.image))\n    print(image)\n\n\n# --\n# -- Push The Docker Image\ndef PushImage():\n    logging.info(\"Pushing Docker Image {0}\".format(args.image))\n    # Format Docker Credential\n    auth_config = {\"username\": args.username, \"password\": args.password}\n    # Push Image\n    client = docker.from_env()\n    try:\n        image = client.images.push(args.image, auth_config=auth_config)\n    except:\n        logging.error(\"Push Image {0}\".format(sys.exc_info()))\n        sys.exit(1)\n\n    logging.info(\"Image {0} Pushed\".format(args.image))\n    print(image)\n\n\n# --\n# -- Tag The Docker Image\ndef TagImage():\n    logging.info(\"Tagging Docker Image {0}\".format(args.image))\n    # Tag Image\n    client = docker.APIClient()\n    try:\n        image = client.tag(args.image, args.tag)\n    except:\n        logging.error(\"Tag Image {0}\".format(sys.exc_info()))\n        sys.exit(1)\n    logging.info(\"Image {0} Tagged as {1}\".format(args.image, args.tag))\n    print(image)\n\n\n# --\n# -- Check if Image Exists\ndef CheckImage(name):\n    dict = {\"repository\": name}\n    client = docker.from_env()\n    image = client.images.list(name)\n    if len(image) == 0:\n        return False\n    else:\n        return True\n\n\n# --\n# -- Convert String to Boolean\ndef str2bool(v):\n    if v.lower() in (\"true\"):\n        return True\n    elif v.lower() in (\"false\"):\n        return False\n    else:\n        return False\n\n\n# --\n# -- Execute\nmain()",
    "scriptTypeWindows": "uapy",
    "scriptUnix": null,
    "scriptWindows": null,
    "sendVariables": "None",
    "sysId": "a3042e613ecb4c24830aa5facd698625",
    "templateType": "Script",
    "useCommonScript": true,
    "variablePrefix": "docker",
    "waitForOutput": false
}